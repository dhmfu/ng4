<h1>Create new post</h1>
<form [formGroup]="postForm" (ngSubmit)="onSubmit()" novalidate>
    <md-card>
        <md-card-content>
            <md-input-container class="example-full-width">
                <input id="postTitle" formControlName="postTitle"
                required maxlength="1000" #postTitle mdInput placeholder="Title">
                <md-hint align="end">{{postTitle.value.length}} / 1000</md-hint>
            </md-input-container>
            <md-input-container class="example-full-width">
                <textarea id="postText" formControlName="postText" (keyup)="resizeInput($event.target)"
                required maxlength="10000" #postText mdInput placeholder="Main text">
                </textarea>
                <md-hint align="end">{{postText.value.length}} / 10000</md-hint>
            </md-input-container>
            <input type="file" (change)="imageUpload($event)" formControlName="postImage">
        </md-card-content>
        <md-card-actions>
            <div class="submit">
                <button type="submit" md-button>Post</button>
            </div>
        </md-card-actions>
        <md-card-footer *ngIf="loading">
            <md-progress-bar mode="determinate" [value]="progress"></md-progress-bar>
        </md-card-footer>
    </md-card>
</form>
